<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test MF1443</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            width: 100%;
        }
        .card {
            background-color: #ffffff;
            border-radius: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            padding: 2rem;
            margin-bottom: 1.5rem;
        }
        .question-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #111827;
        }
        .option {
            background-color: #e5e7eb;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 0.75rem;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.2s;
        }
        .option:hover:not(.correct):not(.incorrect) {
            background-color: #d1d5db;
            transform: translateY(-2px);
        }
        .option.correct {
            background-color: #dcfce7;
            border: 2px solid #22c55e;
            pointer-events: none;
        }
        .option.incorrect {
            background-color: #fee2e2;
            border: 2px solid #ef4444;
            pointer-events: none;
        }
        .explanation {
            background-color: #f9fafb;
            border-left: 4px solid #3b82f6;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 0.5rem;
            display: none;
        }
        .explanation.visible {
            display: block;
        }
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 1.5rem;
        }
        .button {
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            transition: background-color 0.2s;
        }
        .button-primary {
            background-color: #3b82f6;
            color: #ffffff;
        }
        .button-primary:hover {
            background-color: #2563eb;
        }
        .button-secondary {
            background-color: #e5e7eb;
            color: #1f2937;
        }
        .button-secondary:hover {
            background-color: #d1d5db;
        }
        .disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        #return-btn {
            position: absolute;
            top: 20px;
            right: 20px;
        }
    </style>
</head>
<body class="bg-gray-100 p-8 flex items-center justify-center min-h-screen">
    <div class="container bg-white rounded-xl shadow-lg p-6 md:p-10">
        <h1 class="text-3xl font-bold text-center mb-6">Test de Evaluación MF1443 - Autoevaluación 2</h1>
        <div id="quiz-container"></div>
        <div class="nav-buttons flex justify-between mt-6">
            <button id="prev-btn" class="button button-secondary disabled">Anterior</button>
            <button id="next-btn" class="button button-primary">Siguiente</button>
                        <!-- Nuevo botón para reiniciar el test -->
            <button id="restart-btn" class="button button-primary hidden">Volver a empezar</button>
        </div>
    </div>
<a id="return-btn" class="button button-primary " href="index.html">Volver a inicio</a>
    <script>
        // Array de objetos con las preguntas, opciones, respuesta correcta y justificación.
        const questions = [
            {
                question: 'Los recursos más habituales son la pizarra, el rotafolios y el retroproyector, ya que:',
                options: [
                    'a) La mayoría de las aulas suelen contar con ellos.',
                    'b) Son de bajo coste económico.',
                    'c) Su manejo no requiere conocimientos técnicos ni de un lenguaje audiovisual complejo.',
                    'd) Todas son correctas.'
                ],
                correctAnswer: 'd) Todas son correctas.',
                justification: 'Los recursos más habituales son la pizarra, el rotafolios y el retroproyector, ya que en la mayoría de las aulas suelen contar con ellos, son de bajo coste económico y su manejo no requiere conocimientos técnicos ni de un lenguaje audiovisual complejo.'
            },
            {
                question: 'El retroproyector permite la proyección de imágenes en movimiento en pantalla:',
                options: [
                    'a) Verdadero.',
                    'b) Falso.'
                ],
                correctAnswer: 'b) Falso.',
                justification: 'Es un medio de proyección fija que se caracteriza por permitir la presentación de imágenes sobre pantallas de gran formato.'
            },
            {
                question: 'Su utilización busca apoyar la exposición de un contenido con dibujos, frases, láminas o textos ilustrativos que sintetizan las ideas:',
                options: [
                    'a) Pizarra.',
                    'b) Retroproyector.',
                    'c) Transparencia.',
                    'd) Rotafolios.'
                ],
                correctAnswer: 'd) Rotafolios.',
                justification: 'El rotafolios es un objeto semejante a un cuaderno, pero mucho más grande. Su utilización busca apoyar la exposición de un contenido con dibujos, frases, láminas o textos ilustrativos que sintetizan las ideas.'
            },
            {
                question: 'Resulta un recurso muy adecuado para utilizarlo como manual de instrucciones:',
                options: [
                    'a) El cartel.',
                    'b) El cuaderno didáctico.',
                    'c) El folleto.',
                    'd) El libro.'
                ],
                correctAnswer: 'c) El folleto.',
                justification: 'El folleto es un impreso de reducido número de hojas sin encuadernar que sirve como instrumento divulgativo y su publicación no es periódica. Resulta un recurso muy adecuado para utilizarlo como catálogo de equipos, manual de instrucciones y presentación del programa de la acción formativa, de las normas de seguridad laboral, etc.'
            },
            {
                question: 'La representación gráfica de la información de un tema es la definición de:',
                options: [
                    'a) Croquis.',
                    'b) Mapa conceptual.',
                    'c) Infografía.',
                    'd) Cartel.'
                ],
                correctAnswer: 'b) Mapa conceptual.',
                justification: 'El mapa conceptual es una representación gráfica de la información sobre un tema. Permite la organización en jerarquías de los conocimientos y podemos usarlos como organizadores previos de la información durante el desarrollo del discurso didáctico y como resumen final del texto.'
            },
            {
                question: 'En el uso de las transparencias debemos de tener en cuenta:',
                options: [
                    'a) Que las transparencias son materiales muy duraderos, que nos permitirán modificar sucesivamente la información contenida.',
                    'b) Que no permiten el uso de colores.',
                    'c) Contienen de forma adecuada varias ideas en una misma presentación.',
                    'd) Ha de tener un significado claro, de fácil interpretación y asequible al grupo.'
                ],
                correctAnswer: 'd) Ha de tener un significado claro, de fácil interpretación y asequible al grupo.',
                justification: 'La transparencia es una lámina de acetato en la que se plasma la esencia del mensaje que el formador/a ha planificado. Las transparencias han de tener un significado claro, de fácil interpretación y asequible al grupo.'
            },
            {
                question: 'Los elementos que configuran el mapa conceptual son:',
                options: [
                    'a) Conceptos, ideas y relaciones.',
                    'b) Conceptos, enlaces.',
                    'c) Idea principal, conceptos, proposiciones, enlaces.',
                    'd) Idea principal, proposiciones y conceptos.'
                ],
                correctAnswer: 'c) Idea principal, conceptos, proposiciones, enlaces.',
                justification: 'Los elementos que configuran el mapa conceptual son: Conceptos: se refiere a objetos, abstracciones y situaciones. Se representan con círculos u otras figuras geométricas simples llamadas nodos. Existen diferentes niveles de inclusividad: coordinados a igual nivel, supraordinados a mayor nivel o subordinados a menor nivel. Proposiciones: representan la unión entre dos o más conceptos, relacionados entre sí mediante una palabra enlace. La palabra enlace muestra el tipo de relación existente entre dos o más conceptos y se expresa mediante líneas. Idea principal: se coloca en el centro, las coordinadas a los lados, las supraordinadas por arriba y las subordinadas por abajo.'
            },
            {
                question: 'El rotafolios:',
                options: [
                    'a) Resulta adecuado para grupos grandes.',
                    'b) Es adecuado para desarrollos largos.',
                    'c) No permite el contacto visual con los participantes.',
                    'd) Permite volver a recordar información anterior.'
                ],
                correctAnswer: 'd) Permite volver a recordar información anterior.',
                justification: 'El rotafolios: Resulta adecuado para grupos pequeños. Se puede traer preparado. Exige buena letra. Permite el contacto visual con los participantes. Permite volver a recordar información anterior. No es adecuado para desarrollos largos. Dirige la atención.'
            },
            {
                question: 'En cuanto al retroproyector debemos utilizar una superficie de proyección de:',
                options: [
                    'a) 1 m x 1 m.',
                    'b) 1,5 m x 1,5 m.',
                    'c) 2 m x 2 m.',
                    'd) 2,5 m x 2,5 m.'
                ],
                correctAnswer: 'b) 1,5 m x 1,5 m.',
                justification: 'Debemos utilizar una superficie de proyección de 1,5 m x 1,5 m.'
            },
            {
                question: 'En cuanto al uso de las transparencias:',
                options: [
                    'a) La proyección de la primera trasparencia la haremos después de una introducción oral.',
                    'b) Si observamos que la atención del grupo decae, conviene interrumpir la exposición oral planteando alguna pregunta o actividad.',
                    'c) Si la transparencia presentada es un resumen o pensamiento, conviene mantenerla en pantalla el tiempo que dure la exposición.',
                    'd) Todas son correctas.'
                ],
                correctAnswer: 'd) Todas son correctas.',
                justification: 'Es conveniente seguir estas recomendaciones en cuanto al uso de las transparencias: El conjunto de transparencias que traten un mismo tema debe ordenarse progresivamente. La proyección de la primera trasparencia la haremos después de una introducción oral. Si observamos que la atención del grupo decae, conviene interrumpir la exposición oral planteando alguna pregunta o actividad. Si la transparencia presentada es un resumen o pensamiento, conviene mantenerla en pantalla el tiempo que dure la exposición. En algunos casos, es muy útil la superposición de trasparencias para ir complementando el todo con sus partes.'
            }
        ];

        let currentQuestionIndex = 0;
        let correctAnswers = 0;
        let incorrectAnswers = 0;
        let answeredQuestions = new Set();
        const quizContainer = document.getElementById('quiz-container');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const restartBtn = document.getElementById('restart-btn');

        // Función para renderizar la pregunta actual.
        function renderQuestion() {
            // Limpiar el contenedor del quiz.
            quizContainer.innerHTML = '';
            
            // Si hemos llegado al final del test, mostramos los resultados.
            if (currentQuestionIndex >= questions.length) {
                showResults();
                return;
            }

            const currentQuestion = questions[currentQuestionIndex];
            
            // Crear la tarjeta de la pregunta.
            const card = document.createElement('div');
            card.className = 'card';
            
            // Título de la pregunta.
            const questionTitle = document.createElement('div');
            questionTitle.className = 'question-title';
            questionTitle.textContent = `${currentQuestionIndex + 1}) ${currentQuestion.question}`;
            card.appendChild(questionTitle);
            
            // Opciones de respuesta.
            currentQuestion.options.forEach(optionText => {
                const option = document.createElement('div');
                option.className = 'option';
                option.textContent = optionText;
                
                // Si la pregunta ya fue respondida, deshabilitar clics y mostrar la justificación.
                if (answeredQuestions.has(currentQuestionIndex)) {
                    option.style.pointerEvents = 'none';
                    if (optionText === currentQuestion.correctAnswer) {
                        option.classList.add('correct');
                    }
                    if (optionText !== currentQuestion.correctAnswer) {
                        option.classList.add('incorrect');
                    }
                } else {
                    option.addEventListener('click', () => handleOptionClick(option, optionText, currentQuestion.correctAnswer));
                }
                card.appendChild(option);
            });
            
            // Justificación de la respuesta.
            const justification = document.createElement('div');
            justification.className = 'explanation';
            justification.textContent = `JUSTIFICACIÓN: ${currentQuestion.justification}`;
            if (answeredQuestions.has(currentQuestionIndex)) {
                 justification.classList.add('visible');
            }
            card.appendChild(justification);
            
            // Añadir la tarjeta al contenedor principal.
            quizContainer.appendChild(card);
            updateNavButtons();
        }

        // Manejar el clic en una opción.
        function handleOptionClick(selectedOption, selectedText, correctAnswer) {
            // Marcar la pregunta como respondida.
            answeredQuestions.add(currentQuestionIndex);

            // Sumar a los contadores.
            if (selectedText === correctAnswer) {
                correctAnswers++;
                selectedOption.classList.add('correct');
            } else {
                incorrectAnswers++;
                selectedOption.classList.add('incorrect');
            }
            
            // Obtener todas las opciones de la pregunta actual.
            const options = quizContainer.querySelectorAll('.option');
            
            // Deshabilitar todas las opciones para evitar múltiples clics.
            options.forEach(option => {
                option.style.pointerEvents = 'none';
                if (option.textContent === correctAnswer) {
                    option.classList.add('correct');
                }
            });

            // Mostrar la justificación.
            const explanation = quizContainer.querySelector('.explanation');
            explanation.classList.add('visible');
        }

        // Función para mostrar los resultados al final del test.
        function showResults() {
            quizContainer.innerHTML = `
                <div class="card text-center">
                    <h2 class="text-2xl font-bold mb-4">¡Test finalizado!</h2>
                    <p class="text-lg">Respuestas correctas: <span class="font-semibold text-green-600">${correctAnswers}</span></p>
                    <p class="text-lg">Respuestas incorrectas: <span class="font-semibold text-red-600">${incorrectAnswers}</span></p>
                    <p class="text-lg mt-4">Total de preguntas: <span class="font-semibold">${questions.length}</span></p>
                </div>
            `;
            // Ocultar botones de navegación al mostrar resultados.
            prevBtn.classList.add('hidden');
            nextBtn.classList.add('hidden');
            // Mostrar botón de reinicio.
            restartBtn.classList.remove('hidden');
        }

        // Actualizar el estado de los botones de navegación.
        function updateNavButtons() {
            prevBtn.classList.toggle('disabled', currentQuestionIndex === 0);
            nextBtn.textContent = currentQuestionIndex === questions.length - 1 ? 'Finalizar' : 'Siguiente';
        }

        // Función para reiniciar el quiz.
        function restartQuiz() {
            currentQuestionIndex = 0;
            correctAnswers = 0;
            incorrectAnswers = 0;
            answeredQuestions.clear();
            prevBtn.classList.remove('hidden');
            nextBtn.classList.remove('hidden');
            restartBtn.classList.add('hidden');
            renderQuestion();
        }

        // Navegación entre preguntas.
        prevBtn.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
            }
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestionIndex < questions.length) {
                currentQuestionIndex++;
                renderQuestion();
            }
        });

        // Event listener para el botón de reiniciar.
        restartBtn.addEventListener('click', restartQuiz);

        // Cargar la primera pregunta al inicio.
        document.addEventListener('DOMContentLoaded', renderQuestion);
    </script>
</body>
</html>
