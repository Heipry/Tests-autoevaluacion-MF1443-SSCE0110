<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test MF1443</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            width: 100%;
        }
        .card {
            background-color: #ffffff;
            border-radius: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            padding: 2rem;
            margin-bottom: 1.5rem;
        }
        .question-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #111827;
        }
        .option {
            background-color: #e5e7eb;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 0.75rem;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.2s;
        }
        .option:hover:not(.correct):not(.incorrect) {
            background-color: #d1d5db;
            transform: translateY(-2px);
        }
        .option.correct {
            background-color: #dcfce7;
            border: 2px solid #22c55e;
            pointer-events: none;
        }
        .option.incorrect {
            background-color: #fee2e2;
            border: 2px solid #ef4444;
            pointer-events: none;
        }
        .explanation {
            background-color: #f9fafb;
            border-left: 4px solid #3b82f6;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 0.5rem;
            display: none;
        }
        .explanation.visible {
            display: block;
        }
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 1.5rem;
        }
        .button {
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            transition: background-color 0.2s;
        }
        .button-primary {
            background-color: #3b82f6;
            color: #ffffff;
        }
        .button-primary:hover {
            background-color: #2563eb;
        }
        .button-secondary {
            background-color: #e5e7eb;
            color: #1f2937;
        }
        .button-secondary:hover {
            background-color: #d1d5db;
        }
        .disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        #return-btn {
            position: absolute;
            top: 20px;
            right: 20px;
        }
    </style>
</head>
<body class="bg-gray-100 p-8 flex items-center justify-center min-h-screen">
    <div class="container bg-white rounded-xl shadow-lg p-6 md:p-10">
        <h1 class="text-3xl font-bold text-center mb-6">Test de Evaluación MF1443 - Autoevaluación 3</h1>
        <div id="quiz-container"></div>
        <div class="nav-buttons flex justify-between mt-6">
            <button id="prev-btn" class="button button-secondary disabled">Anterior</button>
            <button id="next-btn" class="button button-primary">Siguiente</button>
                        <!-- Nuevo botón para reiniciar el test -->
            <button id="restart-btn" class="button button-primary hidden">Volver a empezar</button>
        </div>
    </div>
<a id="return-btn" class="button button-primary " href="index.html">Volver a inicio</a>
    <script>
        // Array de objetos con las preguntas, opciones, respuesta correcta y justificación.
        const questions = [
            {
                question: 'La función Keystone o trapecio es:',
                options: [
                    'a) Es la función de que disponen los proyectores multimedia para corregir la geometría de la proyección.',
                    'b) Es la función que permite realizar una proyección desde atrás en una pantalla traslúcida.',
                    'c) Es una función que en los proyectores más modernos no existe.',
                    'd) Es la función por la que el proyector se sitúa a una distancia determinada de la pantalla.'
                ],
                correctAnswer: 'a) Es la función de que disponen los proyectores multimedia para corregir la geometría de la proyección.',
                justification: 'Si la pantalla y el proyector no se encuentran en un ángulo de 90º en los ejes horizontal y vertical, podemos corregir el efecto trapezoide con la función keystone o trapeciode la que disponen la mayoría de los proyectores, que es accesible a través del menú, y que nos permitirá jugar con la geometría de la proyección.'
            },
            {
                question: 'El color es uno de los aspectos a los que prestar atención para el diseño de diapositivas porque:',
                options: [
                    'a) Permite llamar la atención sobre palabras o frases.',
                    'b) Cumple una función cognitiva al fijar en la retina las imágenes.',
                    'c) Resulta recomendable el uso de colores oscuros.',
                    'd) Las diapositivas con muchos colores resultan más efectivas.'
                ],
                correctAnswer: 'a) Permite llamar la atención sobre palabras o frases.',
                justification: 'El color, además de definir el fondo de la diapositiva, nos va a permitir llamar la atención sobre palabras o frases y mejorar el aspecto visual. Algunos aspectos a tener en cuenta son: Podemos usarlo para identificar contenidos facilitando al alumnado la identificación de cada unidad de contenido que estemos abordando. Los software comerciales traen patrones que comprenden combinaciones y diseños de diapositivas que el usuario puede elegir según sus necesidades. Cuidado con las diapositivas.'
            },
            {
                question: 'Esta licencia Creative Commons permite a otros realizar trabajos derivados pero únicamente bajo una licencia idéntica:',
                options: [
                    'a) Atribución.',
                    'b) Igualmente compartido.',
                    'c) No Comercial.',
                    'd) No derivación del trabajo.'
                ],
                correctAnswer: 'b) Igualmente compartido.',
                justification: 'La licencia Creative Commons "Igualmente compartido" permite a otros realizar trabajos derivados pero únicamente bajo una licencia idéntica. Este tipo de licencia, únicamente aplica a obras derivadas.'
            },
            {
                question: 'A la hora de determinar la secuencia de diapositivas o la estructura de nuestra presentación debemos:',
                options: [
                    'a) Ordenar las diapositivas.',
                    'b) Evitar dar "saltos atrás".',
                    'c) Evitar los "saltos paralelos".',
                    'd) Todas son correctas.'
                ],
                correctAnswer: 'd) Todas son correctas.',
                justification: 'A la hora de determinar la secuencia de diapositivas o la estructura de nuestra presentación debemos: Ordenar las diapositivas de manera que, cuando presenten un contenido nuevo, los alumnos sean capaces de asimilarlo sin problemas. Evitar dar "saltos atrás" que provoquen la confusión de los contenidos, al estar avanzando o retrocediendo en nuestra presentación. Evitar los "saltos paralelos" que interrumpan la explicación introduciendo contenidos que no corresponden al tema que estamos trabajando.'
            },
            {
                question: 'El tamaño para el cuerpo del texto de las diapositivas suele oscilar entre:',
                options: [
                    'a) Los 10-12 puntos.',
                    'b) Los 18-25 puntos.',
                    'c) Los 20-22 puntos.',
                    'd) Los 25-30 puntos.'
                ],
                correctAnswer: 'b) Los 18-25 puntos.',
                justification: 'El tamaño del texto suele oscilar entre los 18-25 puntos, para el cuerpo del texto y los 30-35 puntos para los títulos.'
            },
            {
                question: 'En esta estructura de una diapositiva podemos acceder a todas las demás y regresar a la primera:',
                options: [
                    'a) De forma lineal.',
                    'b) En forma de estrella.',
                    'c) En forma de árbol.',
                    'd) Ninguna es correcta.'
                ],
                correctAnswer: 'b) En forma de estrella.',
                justification: 'Podemos estructurar nuestra presentación de diferentes maneras: En forma lineal: accedemos a las diapositivas en el orden determinado y de una en una. En forma de estrella: en esta estructura de una diapositiva podemos acceder a todas las demás y regresar a la primera. En forma de árbol: de una diapositiva podemos acceder a otras que, a su vez, se ramifican en otras.'
            },
            {
                question: '¿Qué significa el símbolo utilizado en Creative Commons que representa un signo de igual dentro de un círculo?:',
                options: [
                    'a) Atribución.',
                    'b) No Comercial.',
                    'c) No derivación del trabajo.',
                    'd) Igualmente compartido.'
                ],
                correctAnswer: 'c) No derivación del trabajo.',
                justification: 'El símbolo utilizado en Creative Commons que representa un signo de igual dentro de un círculo significa "No derivación del trabajo". Esta opción permite a otros copiar, distribuir, mostrar y ejecutar solo copias literales del trabajo patentado, no estando autorizado ningún tercero a realizar trabajos derivados del mismo.'
            },
            {
                question: 'Una de las medidas preventivas que podemos adoptar en relación a los riesgos de fatiga física, mental y visual es:',
                options: [
                    'a) Evitar posturas estáticas mantenidas durante un tiempo excesivo.',
                    'b) Realizar con frecuencia pequeñas pausas.',
                    'c) Contar con un puesto de trabajo con una buena iluminación.',
                    'd) Contar con un puesto de trabajo con dimensiones suficientes para variar de postura.'
                ],
                correctAnswer: 'b) Realizar con frecuencia pequeñas pausas.',
                justification: 'Para prevenir la fatiga física, mental y visual, además del estrés, es adecuado realizar pequeñas pausas frecuentes y realizar ejercicios de relajación muscular.'
            },
            {
                question: 'Cuando prestamos atención a la composición de una diapositiva atendemos a:',
                options: [
                    'a) El color y la imagen.',
                    'b) La claridad, unidad, énfasis y equilibrio.',
                    'c) Al texto, la imagen y la animación y sonido.',
                    'd) Ninguna es correcta.'
                ],
                correctAnswer: 'b) La claridad, unidad, énfasis y equilibrio.',
                justification: 'La composición de un diseño en diapositivas consiste en adecuar distintos elementos gráficos dentro de un espacio de forma que su interrelación aporte significado para transmitir un mensaje claro al alumnado. Prestamos atención a los elementos de claridad, unidad, énfasis y equilibrio.'
            },
            {
                question: 'En cuanto a la calidad ambiental tenemos que tener en cuenta:',
                options: [
                    'a) El consumo eléctrico.',
                    'b) El nivel de ruido.',
                    'c) Vigilar la utilización de recursos y materiales.',
                    'd) Todas son correctas.'
                ],
                correctAnswer: 'd) Todas son correctas.',
                justification: 'Debemos tener en cuenta todos los aspectos mencionados, además de tender a una instalación de iluminación LFC o LED, mantener las ventanas cerradas mientras esté conectado el sistema de calefacción, fomentar el uso de los archivos electrónico antes que la impresión de papel, escoger productos que respeten el medioambiente, utilizar pilas o baterías recargables, evitar dejar enchufados cargadores y transformadores, etc.'
            }
        ];

        let currentQuestionIndex = 0;
        let correctAnswers = 0;
        let incorrectAnswers = 0;
        let answeredQuestions = new Set();
        const quizContainer = document.getElementById('quiz-container');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const restartBtn = document.getElementById('restart-btn');

        // Función para renderizar la pregunta actual.
        function renderQuestion() {
            // Limpiar el contenedor del quiz.
            quizContainer.innerHTML = '';
            
            // Si hemos llegado al final del test, mostramos los resultados.
            if (currentQuestionIndex >= questions.length) {
                showResults();
                return;
            }

            const currentQuestion = questions[currentQuestionIndex];
            
            // Crear la tarjeta de la pregunta.
            const card = document.createElement('div');
            card.className = 'card';
            
            // Título de la pregunta.
            const questionTitle = document.createElement('div');
            questionTitle.className = 'question-title';
            questionTitle.textContent = `${currentQuestionIndex + 1}) ${currentQuestion.question}`;
            card.appendChild(questionTitle);
            
            // Opciones de respuesta.
            currentQuestion.options.forEach(optionText => {
                const option = document.createElement('div');
                option.className = 'option';
                option.textContent = optionText;
                
                // Si la pregunta ya fue respondida, deshabilitar clics y mostrar la justificación.
                if (answeredQuestions.has(currentQuestionIndex)) {
                    option.style.pointerEvents = 'none';
                    if (optionText === currentQuestion.correctAnswer) {
                        option.classList.add('correct');
                    }
                    if (optionText !== currentQuestion.correctAnswer) {
                        option.classList.add('incorrect');
                    }
                } else {
                    option.addEventListener('click', () => handleOptionClick(option, optionText, currentQuestion.correctAnswer));
                }
                card.appendChild(option);
            });
            
            // Justificación de la respuesta.
            const justification = document.createElement('div');
            justification.className = 'explanation';
            justification.textContent = `JUSTIFICACIÓN: ${currentQuestion.justification}`;
            if (answeredQuestions.has(currentQuestionIndex)) {
                 justification.classList.add('visible');
            }
            card.appendChild(justification);
            
            // Añadir la tarjeta al contenedor principal.
            quizContainer.appendChild(card);
            updateNavButtons();
        }

        // Manejar el clic en una opción.
        function handleOptionClick(selectedOption, selectedText, correctAnswer) {
            // Marcar la pregunta como respondida.
            answeredQuestions.add(currentQuestionIndex);

            // Sumar a los contadores.
            if (selectedText === correctAnswer) {
                correctAnswers++;
                selectedOption.classList.add('correct');
            } else {
                incorrectAnswers++;
                selectedOption.classList.add('incorrect');
            }
            
            // Obtener todas las opciones de la pregunta actual.
            const options = quizContainer.querySelectorAll('.option');
            
            // Deshabilitar todas las opciones para evitar múltiples clics.
            options.forEach(option => {
                option.style.pointerEvents = 'none';
                if (option.textContent === correctAnswer) {
                    option.classList.add('correct');
                }
            });

            // Mostrar la justificación.
            const explanation = quizContainer.querySelector('.explanation');
            explanation.classList.add('visible');
        }

        // Función para mostrar los resultados al final del test.
        function showResults() {
            quizContainer.innerHTML = `
                <div class="card text-center">
                    <h2 class="text-2xl font-bold mb-4">¡Test finalizado!</h2>
                    <p class="text-lg">Respuestas correctas: <span class="font-semibold text-green-600">${correctAnswers}</span></p>
                    <p class="text-lg">Respuestas incorrectas: <span class="font-semibold text-red-600">${incorrectAnswers}</span></p>
                    <p class="text-lg mt-4">Total de preguntas: <span class="font-semibold">${questions.length}</span></p>
                </div>
            `;
            // Ocultar botones de navegación al mostrar resultados.
            prevBtn.classList.add('hidden');
            nextBtn.classList.add('hidden');
            // Mostrar botón de reinicio.
            restartBtn.classList.remove('hidden');
        }

        // Actualizar el estado de los botones de navegación.
        function updateNavButtons() {
            prevBtn.classList.toggle('disabled', currentQuestionIndex === 0);
            nextBtn.textContent = currentQuestionIndex === questions.length - 1 ? 'Finalizar' : 'Siguiente';
        }

        // Función para reiniciar el quiz.
        function restartQuiz() {
            currentQuestionIndex = 0;
            correctAnswers = 0;
            incorrectAnswers = 0;
            answeredQuestions.clear();
            prevBtn.classList.remove('hidden');
            nextBtn.classList.remove('hidden');
            restartBtn.classList.add('hidden');
            renderQuestion();
        }

        // Navegación entre preguntas.
        prevBtn.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
            }
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestionIndex < questions.length) {
                currentQuestionIndex++;
                renderQuestion();
            }
        });

        // Event listener para el botón de reiniciar.
        restartBtn.addEventListener('click', restartQuiz);

        // Cargar la primera pregunta al inicio.
        document.addEventListener('DOMContentLoaded', renderQuestion);
    </script>
</body>
</html>
